<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="canonical" href="https://github.com/tclahr/uac/v2.1/">
  <link rel="shortcut icon" href="img/favicon.ico">
  <title>Getting started - UAC Documentation</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="css/theme.css" />
  <link rel="stylesheet" href="css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
  <link href="extra.css" rel="stylesheet" />
  <link href="css/version-select.css" rel="stylesheet" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Getting started";
    var mkdocs_page_input_path = "index.md";
    var mkdocs_page_url = "/tclahr/uac/v2.1/";
  </script>
  
  <script src="js/jquery-2.1.1.min.js" defer></script>
  <script src="js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="." class="icon icon-home"> UAC Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <p class="caption"><span class="caption-text">BASICS</span></p>
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href=".">Getting started</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#main-features">Main features</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#supported-operating-systems">Supported operating systems</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#command-line-options">Command line options</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#using-uac">Using UAC</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#validating-custom-artifacts-files">Validating custom artifacts files</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#using-your-own-binary-files">Using your own binary files</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#troubleshooting-and-support">Troubleshooting and support</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#debug-mode">Debug mode</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#file-an-issue-on-github">File an issue on Github</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#community-support">Community support</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#contributing">Contributing</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#license">License</a>
    </li>
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">DEFINITIONS</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="profile_file/">Profile file</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="artifacts_file/">Artifacts file</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="collectors/">Collectors</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="exposed_vars/">Exposed variables</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">OUTPUT FILE</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="output_file/">Output file format</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href=".">UAC Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".">Docs</a> &raquo;</li>
    
      
        
          <li>BASICS &raquo;</li>
        
      
    
    <li>Getting started</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>

          <div role="main">
            <div class="section">
              
                <h1 id="welcome-to-the-unix-like-artifacts-collector-documentation">Welcome to the Unix-like Artifacts Collector documentation</h1>
<p>UAC is a Live Response collection tool for Incident Response that makes use of native binaries to automate the collection of Unix-like systems artifacts. It was created to facilitate and speed up data collection, and depend less on remote support during incident response engagements.</p>
<p>UAC reads artifacts files on the fly and, based on their contents, collects relevant artifacts. This makes UAC very customizable and extensible.</p>
<p>The source code is available from the <a href="https://github.com/tclahr/uac">project page</a>.</p>
<pre><code style="padding: 4px; font-size: 110%;">
$ sudo ./uac -p ir_triage /tmp
----------------------------------------------------------------------
  __   __ _______ _______ 
 |: | |  |:  _   |:  ____|
 |  |_|  |  | |  |  |____ 
 |_______|__| |__|_______|

 Unix-like Artifacts Collector
----------------------------------------------------------------------
Operating System    : linux
System Architecture : x86_64
Hostname            : skeletor
Mount Point         : /
Running as          : root
Temp Directory      : /tmp/uac-data.tmp
----------------------------------------------------------------------
Artifacts collection started...
[001/217] live_response/process/ps.yaml
[002/217] live_response/process/lsof.yaml
[003/217] live_response/process/top.yaml
...
[215/217] files/system/var_spool.yaml
[216/217] files/system/wifi.yaml
[217/217] files/system/xsession_errors.yaml
----------------------------------------------------------------------
Artifacts collection complete. Total running time: 150 seconds
Creating output file. Please wait...
Output file created '/tmp/uac-skeletor-linux-20220214231300.tar.gz'
Hashing output file. Please wait...
Acquisition log created '/tmp/uac-skeletor-linux-20220214231300.log'
</code></pre>

<h2 id="main-features">Main features</h2>
<ul>
<li>Runs everywhere with no dependencies (no installation required).</li>
<li>Customizable and extensible collections and artifacts.</li>
<li>Respects the order of volatility during artifacts collection.</li>
<li>Collects information from processes running without a binary on disk.</li>
<li>Extracts information from files and directories to create a bodyfile (including enhanced file attributes for ext4).</li>
<li>Hashes running processes and executable files.</li>
<li>Collects user and system configuration files and logs.</li>
<li>Collects artifacts from applications.</li>
<li>Acquires volatile memory from Linux systems using Microsoft's <a href="https://github.com/microsoft/avml">avml</a> tool.</li>
</ul>
<h2 id="supported-operating-systems">Supported operating systems</h2>
<p>UAC runs on any Unix-like system (regardless the processor architecture). All UAC needs is shell :)</p>
<ul>
<li>AIX</li>
<li>Android</li>
<li>FreeBSD</li>
<li>Linux</li>
<li>macOS</li>
<li>NetBSD</li>
<li>NetScaler</li>
<li>OpenBSD</li>
<li>Solaris</li>
</ul>
<h2 id="command-line-options">Command line options</h2>
<p>UAC is a command line tool, and as such, has several options that can be used to interact with it. It is recommended to run UAC from an external device/usb/network share to avoid overwriting evidence.</p>
<pre class="code">
Usage: ./uac [-h] [-V] [--debug] {-p PROFILE | -a ARTIFACTS} DESTINATION
             [-m MOUNT_POINT] [-s OPERATING_SYSTEM] [-u] [--temp_dir PATH]
             [--date-range-start YYYY-MM-DD] [--date-range-start YYYY-MM-DD]
             [--case-number CASE_NUMBER] [--description DESCRIPTION]
             [--evidence-number EVIDENCE_NUMBER] [--examiner EXAMINER]
             [--notes NOTES] [--hostname HOSTNAME] [--stfp SERVER] 
             [--sftp-port PORT] [--sftp-identity-file FILE]
             [--sftp-delete-local-on-success] [--debug]
   or: ./uac --validate-artifacts-file FILE

Optional Arguments:
  -h, --help        Display this help and exit.
  -V, --version     Output version information and exit.
      --debug       Enable debug mode.

Profiling Arguments:
  -p, --profile PROFILE
                    Specify the collection profile name. Use '--profile list'
                    to list available profiles.
  -a, --artifacts ARTIFACTS
                    Specify the artifacts to be collected during the collection.
                    The expression is a comma separated string where each element
                    is an artifact file. Each element can be prepended with an 
                    exclamation mark to exclude the artifact.
                    Special characters such as ! and * must be escaped with a
                    backslash.
                    Examples: --artifacts files/logs/\*,\!files/logs/var_log.yaml
                    Use '--artifacts list' to list available artifacts.

Positional Arguments:
  DESTINATION       Specify the directory the output file will be created in.

Collection Arguments:
  -m, --mount-point MOUNT_POINT
                    Specify the mount point (default: /).
  -s, --operating-system OPERATING_SYSTEM
                    Specify the operating system.
                    Options: aix, android, freebsd, linux, macos, netbsd
                             netscaler, openbsd, solaris
  -u, --run-as-non-root
                    Disable root user check.
                    Note that data collection may be limited.
      --temp-dir PATH   
                    Write all temporary data to this directory.

Filter Arguments:
      --date-range-start YYYY-MM-DD
                    Only collects files that were last modified/accessed/changed
                    after given date.
      --date-range-end YYYY-MM-DD
                    Only collects files that were last modified/accessed/changed
                    before given date.

Informational Arguments:
      --case-number CASE_NUMBER
                    Specify the case number.
      --description DESCRIPTION
                    Specify the description.
      --evidence-number EVIDENCE_NUMBER
                    Specify the evidence number.
      --examiner EXAMINER
                    Specify the examiner name.
      --notes NOTES
                    Specify the notes.
      --hostname HOSTNAME
                    Specify the target system hostname.

Remote Transfer Arguments:
      --sftp SERVER
                    Transfer output file to remote SFTP server.
                    SERVER must be specified in the form [user@]host:[path]
      --sftp-port PORT
                    Remote SFTP server port (default: 22).
      --sftp-identity-file FILE
                    File from which the identity (private key) for public key
                    authentication is read.
      --sftp-delete-local-on-success
                    Delete local output file on successful transfer.

Validation Arguments:
      --validate-artifacts-file FILE
                    Validate artifacts file.
</pre>

<h2 id="using-uac">Using UAC</h2>
<p>UAC does not need to be installed on the target system. You only need to download the latest version from the <a href="https://github.com/tclahr/uac/releases">releases page</a>, uncompress and run it. As simple as that!</p>
<p>A <a href="profile_file/">profile</a> name and/or a list of <a href="artifacts_file/">artifacts</a>, and the destination directory need to be provided in order to run a collection. The remaining parameters are optional.</p>
<p>Common usage scenarios may include the following:</p>
<ul>
<li>Collect all artifacts based on the <code>full</code> profile, and create the output file in <code>/tmp</code>.</li>
</ul>
<pre><code class="language-shell">./uac -p full /tmp
</code></pre>
<ul>
<li>Collect all <code>live_response</code>, and the <code>bodyfile/bodyfile.yaml</code> artifact, and create the output file in the current directory.</li>
</ul>
<pre><code class="language-shell">./uac -a live_response/\*,bodyfile/bodyfile.yaml .
</code></pre>
<ul>
<li>Collect all artifacts based on the <code>full</code> profile, but excludes the <code>bodyfile/bodyfile.yaml</code> artifact, and create the output file in <code>/tmp</code>. </li>
</ul>
<pre><code class="language-shell">./uac -p full -a \!bodyfile/bodyfile.yaml /tmp
</code></pre>
<ul>
<li>Note that when a profile and a list of artifacts are provided, the artifacts from the profile will always be collected first, even if the parameter <code>-a</code> was provided before <code>-p</code> in the command line. In the example below, the <code>memory_dump/avml.yaml</code> artifact will only be collected after all artifacts from <code>full</code> profile were collected.</li>
</ul>
<pre><code class="language-shell">./uac -a memory_dump/avml.yaml -p full /tmp
</code></pre>
<ul>
<li>Collect all artifacts based on the <code>full</code> profile, but limiting the data collection based on the date range provided.</li>
</ul>
<pre><code class="language-shell">./uac -p full /tmp --date-range-start 2021-05-01 --date-range-end 2021-08-31
</code></pre>
<ul>
<li>Collect all but live response artifacts from a Linux disk image mounted in <code>/mnt/ewf</code>.</li>
</ul>
<pre><code class="language-shell">./uac -p full -a \!live_response/\* /tmp --mount-point /mnt/ewf --operating-system linux
</code></pre>
<h2 id="validating-custom-artifacts-files">Validating custom artifacts files</h2>
<p>It is recommended that you validate your custom artifacts files before running a collection. You can do it using the <code>--validate-artifacts-file</code> option as shown below.</p>
<pre><code class="language-shell">./uac --validate-artifacts-file ./artifacts/files/my_custom_artifact.yaml
</code></pre>
<h2 id="using-your-own-binary-files">Using your own binary files</h2>
<p>Place your validated binary files in the <code>[uac_directory]\bin</code> directory if you want them to be executed instead of the built-in ones provided by the target operating system.</p>
<p>UAC will detect and run CPU architecture specific executable files, so they need to be placed within the following directory structure: <code>[uac_directory]\bin\[operating_system]\[architecture]</code>.</p>
<p>Operating system must be one of the following options (in lowercase): android, aix, freebsd, linux, macos, netbsd, netscaler, openbsd or solaris.</p>
<p>Architecture is the kernel architecture (in lowercase). It can be retrieved using <code>uname</code> tool.</p>
<p>For example:</p>
<ul>
<li>if you have a <code>ss</code> binary for Linux x86_64, it needs to be placed in the <code>[uac_directory]\bin\linux\x86_64</code> directory.</li>
<li>if you have a <code>lsof</code> binary for AIX powerpc, it needs to be placed in the <code>[uac_directory]\bin\aix\powerpc</code> directory.</li>
<li>if you have a <code>netstat</code> binary for Android aarch64, it needs to be placed in the <code>[uac_directory]\bin\android\aarch64</code> directory.</li>
</ul>
<h2 id="troubleshooting-and-support">Troubleshooting and support</h2>
<h3 id="debug-mode">Debug mode</h3>
<p>Debug mode <code>--debug</code> may be useful if you are trying to find the source for an error. When debug mode is on, UAC will use <code>set -x</code> to generate debugging messages, and store them into <code>uac.log.stderr</code> file.</p>
<h3 id="file-an-issue-on-github">File an issue on Github</h3>
<p>If you are a user and you find a bug, please submit an <a href="https://github.com/tclahr/uac/issues">issue</a>. Please try to provide sufficient information for someone else to reproduce the issue. One of the project's <a href="https://github.com/tclahr/uac/blob/master/MAINTAINERS.md">maintainers</a> should respond to your issue soon.</p>
<p>Please search within our <a href="https://github.com/tclahr/uac/issues">already reported bugs</a> before raising a new one to make sure you're not raising a duplicate.</p>
<p>See our <a href="https://github.com/tclahr/uac/blob/master/CONTRIBUTING.md">Contributing Guide</a> for more information.</p>
<h3 id="community-support">Community support</h3>
<p>For additional help, you can use one of the channels to ask a question:</p>
<ul>
<li><a href="https://discord.com/invite/digitalforensics">Discord</a> (For live discussion with the community and UAC team)</li>
<li><a href="https://github.com/tclahr/uac/issues">GitHub</a> (Bug reports and contributions)</li>
<li><a href="https://twitter.com/tclahr">Twitter</a> (Get the news fast)</li>
</ul>
<h2 id="contributing">Contributing</h2>
<p>Please read our <a href="https://github.com/tclahr/uac/blob/master/CONTRIBUTING.md">Contributing Guide</a> before submitting a Pull Request to the project.</p>
<h2 id="license">License</h2>
<p>The UAC project uses the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License Version 2.0</a> software license.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="profile_file/" class="btn btn-neutral float-right" title="Profile file">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
      <span><a href="profile_file/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '.';</script>
    <script src="js/theme_extra.js" defer></script>
    <script src="js/theme.js" defer></script>
      <script src="search/main.js" defer></script>
      <script src="js/version-select.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
