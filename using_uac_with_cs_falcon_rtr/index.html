<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://github.com/tclahr/uac/using_uac_with_cs_falcon_rtr/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Using UAC with CrowdStrike Falcon Real Time Response - UAC Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Using UAC with CrowdStrike Falcon Real Time Response";
        var mkdocs_page_input_path = "using_uac_with_cs_falcon_rtr.md";
        var mkdocs_page_url = "/tclahr/uac/using_uac_with_cs_falcon_rtr/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> UAC Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="..">Getting Started</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEFINITIONS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../profiles/">Profiles</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../artifacts/">Artifacts</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../runtime_variables/">Runtime Variables</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../helper_functions/">Helper Functions</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">CONFIG</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../config_file/">Config Files</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">OUTPUT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../output_formats/">Output Formats</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LOG</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../log_files/">Log Files</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">OTHER</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../parsing_uac_output/">Parsing UAC output</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Using UAC with CrowdStrike Falcon Real Time Response</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#running-uac-in-the-background">Running UAC in the background</a>
    </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">MISC</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../testing_lab/">Testing Lab</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">UAC Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">OTHER</li>
      <li class="breadcrumb-item active">Using UAC with CrowdStrike Falcon Real Time Response</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="using-uac-with-crowdstrike-falcon-real-time-response">Using UAC with CrowdStrike Falcon Real Time Response</h1>
<p>CrowdStrike Falcon Real Time Response (RTR) enables analysts to remotely access and interact with endpoints in real time. This allows for immediate visibility into a system and the ability to collect valuable forensic data by deploying files and executing custom scripts.</p>
<p>In the instructions below, the UAC package (e.g., <code>uac-3.0.0.tar.gz</code>) is assumed to be stored in the CrowdStrike cloud. This allows deployment even if the endpoint is isolated using the Network Containment feature.</p>
<p>1. Create a temporary working directory</p>
<p>Create a temporary directory on the live endpoint and navigate into it:</p>
<pre><code class="language-shell">/&gt; mkdir /tmp/uac
/&gt; cd /tmp/uac
</code></pre>
<p>2. Deploy and extract the UAC package</p>
<p>Deploy the UAC archive and extract its contents:</p>
<pre><code class="language-shell">/tmp/uac&gt; put &quot;uac-3.0.0.tar.gz&quot;
/tmp/uac&gt; runscript -Raw=```tar -zxf uac-3.0.0.tar.gz``` -Timeout=60
</code></pre>
<p>3. Run the collection</p>
<p>Change to the UAC directory and start the data collection. Note that Falcon RTR sessions timeout after 10 minutes, so you may need to interact with the session to keep it alive.</p>
<pre><code class="language-shell">/tmp/uac&gt; cd uac-3.0.0
/tmp/uac/uac-3.0.0&gt; runscript -Raw=```./uac -p ir_triage /tmp/uac``` -Timeout=9999
</code></pre>
<p>4. Upload output and log files</p>
<p>Use the <code>get</code> command to upload the resulting archive and log files to the CrowdStrike cloud:</p>
<pre><code class="language-shell">/tmp/uac/uac-3.0.0&gt; get &quot;/tmp/uac/uac-hostname-os-20240707120101.tar.gz&quot;
/tmp/uac/uac-3.0.0&gt; get &quot;/tmp/uac/uac-hostname-os-20240707120101.log&quot;
</code></pre>
<blockquote>
<p><strong>Note:</strong> The maximum file size supported by <code>get</code> is 4 GB. If necessary, use the <code>split</code> command to divide larger files.</p>
</blockquote>
<h2 id="running-uac-in-the-background">Running UAC in the background</h2>
<p>To run UAC in the background and prevent it from being interrupted by session timeouts, use the following command. This command launches UAC using <code>bash -c</code> and appends its output to a log file:</p>
<pre><code class="language-shell">/tmp/uac/uac-3.0.0&gt; runscript -Raw=```bash -c &quot;./uac -p ir_triage -v /tmp/uac &amp;&quot; &gt;&gt;/tmp/uac/uac.run.log``` -Timeout=9999
</code></pre>
<p>You can monitor the progress using:</p>
<pre><code class="language-shell">/tmp/uac/uac-3.0.0&gt; cat /tmp/uac/uac.run.log
</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../parsing_uac_output/" class="btn btn-neutral float-left" title="Parsing UAC output"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../testing_lab/" class="btn btn-neutral float-right" title="Testing Lab">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../parsing_uac_output/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../testing_lab/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
